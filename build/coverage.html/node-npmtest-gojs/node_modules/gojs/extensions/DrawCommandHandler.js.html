<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-gojs/node_modules/gojs/extensions/DrawCommandHandler.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-gojs">npmtest-gojs (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-gojs/node_modules/gojs/extensions/DrawCommandHandler.js</span></h1>
    <h2>
        
        Statements: <span class="metric">0.8% <small>(2 / 249)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 112)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">0.9% <small>(2 / 221)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-gojs/node_modules/gojs/extensions/</a> &#187; DrawCommandHandler.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
/*
*  Copyright (C) 1998-2017 by Northwoods Software Corporation. All Rights Reserved.
*/
&nbsp;
/**
* @constructor
* @extends CommandHandler
* @class 
* This CommandHandler class allows the user to position selected Parts in a diagram
* relative to the first part selected, in addition to overriding the doKeyDown method
* of the CommandHandler for handling the arrow keys in additional manners.
* &lt;p&gt;
* Typical usage:
* &lt;pre&gt;
*   $(go.Diagram, "myDiagramDiv",
*     {
*       commandHandler: $(DrawCommandHandler),
*       . . .
*     }
*   )
* &lt;/pre&gt;
* or:
* &lt;pre&gt;
*    myDiagram.commandHandler = new DrawCommandHandler();
* &lt;/pre&gt;*/
<span class="fstat-no" title="function not covered" >function DrawCommandHandler() {</span>
<span class="cstat-no" title="statement not covered" >  go.CommandHandler.call(this);</span>
<span class="cstat-no" title="statement not covered" >  this._arrowKeyBehavior = "move";</span>
<span class="cstat-no" title="statement not covered" >  this._pasteOffset = new go.Point(10, 10);</span>
<span class="cstat-no" title="statement not covered" >  this._lastPasteOffset = new go.Point(0, 0);</span>
}
go.Diagram.inherit(DrawCommandHandler, go.CommandHandler);
&nbsp;
/**
* This controls whether or not the user can invoke the {@link #alignLeft}, {@link #alignRight}, 
* {@link #alignTop}, {@link #alignBottom}, {@link #alignCenterX}, {@link #alignCenterY} commands.
* @this {DrawCommandHandler}
* @return {boolean}
* This returns true:
* if the diagram is not {@link Diagram#isReadOnly},
* if the model is not {@link Model#isReadOnly}, and
* if there are at least two selected {@link Part}s.
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.canAlignSelection = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  if (diagram === null || diagram.isReadOnly || diagram.isModelReadOnly) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  if (diagram.selection.count &lt; 2) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
&nbsp;
/**
* Aligns selected parts along the left-most edge of the left-most part.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignLeft = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("aligning left");</span>
<span class="cstat-no" title="statement not covered" >  var minPosition = Infinity;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    minPosition = Math.min(current.position.x, minPosition);</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(minPosition, current.position.y));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("aligning left");</span>
};
&nbsp;
/**
* Aligns selected parts at the right-most edge of the right-most part.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignRight = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("aligning right");</span>
<span class="cstat-no" title="statement not covered" >  var maxPosition = -Infinity;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    var rightSideLoc = current.actualBounds.x + current.actualBounds.width;</span>
<span class="cstat-no" title="statement not covered" >    maxPosition = Math.max(rightSideLoc, maxPosition);</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(maxPosition - current.actualBounds.width, current.position.y));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("aligning right");</span>
};
&nbsp;
/**
* Aligns selected parts at the top-most edge of the top-most part.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignTop = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("alignTop");</span>
<span class="cstat-no" title="statement not covered" >  var minPosition = Infinity;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    minPosition = Math.min(current.position.y, minPosition);</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(current.position.x, minPosition));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("alignTop");</span>
};
&nbsp;
/**
* Aligns selected parts at the bottom-most edge of the bottom-most part.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignBottom = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("aligning bottom");</span>
<span class="cstat-no" title="statement not covered" >  var maxPosition = -Infinity;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    var bottomSideLoc = current.actualBounds.y + current.actualBounds.height;</span>
<span class="cstat-no" title="statement not covered" >    maxPosition = Math.max(bottomSideLoc, maxPosition);</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(current.actualBounds.x, maxPosition - current.actualBounds.height));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("aligning bottom");</span>
};
&nbsp;
/**
* Aligns selected parts at the x-value of the center point of the first selected part. 
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignCenterX = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  var firstSelection = diagram.selection.first();</span>
<span class="cstat-no" title="statement not covered" >  if (!firstSelection) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("aligning Center X");</span>
<span class="cstat-no" title="statement not covered" >  var centerX = firstSelection.actualBounds.x + firstSelection.actualBounds.width / 2;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(centerX - current.actualBounds.width / 2, current.actualBounds.y));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("aligning Center X");</span>
};
&nbsp;
&nbsp;
/**
* Aligns selected parts at the y-value of the center point of the first selected part. 
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignCenterY = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  var firstSelection = diagram.selection.first();</span>
<span class="cstat-no" title="statement not covered" >  if (!firstSelection) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("aligning Center Y");</span>
<span class="cstat-no" title="statement not covered" >  var centerY = firstSelection.actualBounds.y + firstSelection.actualBounds.height / 2;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    current.move(new go.Point(current.actualBounds.x, centerY - current.actualBounds.height / 2));</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("aligning Center Y");</span>
};
&nbsp;
&nbsp;
/**
* Aligns selected parts top-to-bottom in order of the order selected.
* Distance between parts can be specified. Default distance is 0.
* @this {DrawCommandHandler}
* @param {number} distance 
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignColumn = <span class="fstat-no" title="function not covered" >function(distance) {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("align Column");</span>
<span class="cstat-no" title="statement not covered" >  if (distance === undefined) <span class="cstat-no" title="statement not covered" >distance = 0; </span></span>// for aligning edge to edge
<span class="cstat-no" title="statement not covered" >  distance = parseFloat(distance);</span>
<span class="cstat-no" title="statement not covered" >  var selectedParts = new Array();</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    selectedParts.push(current);</span>
  });
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; selectedParts.length - 1; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var current = selectedParts[i];</span>
    // adds distance specified between parts
<span class="cstat-no" title="statement not covered" >    var curBottomSideLoc = current.actualBounds.y + current.actualBounds.height + distance;</span>
<span class="cstat-no" title="statement not covered" >    var next = selectedParts[i + 1];</span>
<span class="cstat-no" title="statement not covered" >    next.move(new go.Point(current.actualBounds.x, curBottomSideLoc));</span>
  }
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("align Column");</span>
};
&nbsp;
/**
* Aligns selected parts left-to-right in order of the order selected.
* Distance between parts can be specified. Default distance is 0.
* @this {DrawCommandHandler}
* @param {number} distance 
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.alignRow = <span class="fstat-no" title="function not covered" >function(distance) {</span></span>
<span class="cstat-no" title="statement not covered" >  if (distance === undefined) <span class="cstat-no" title="statement not covered" >distance = 0; </span></span>// for aligning edge to edge
<span class="cstat-no" title="statement not covered" >  distance = parseFloat(distance);</span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("align Row");</span>
<span class="cstat-no" title="statement not covered" >  var selectedParts = new Array();</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over go.Link
<span class="cstat-no" title="statement not covered" >    selectedParts.push(current);</span>
  });
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; selectedParts.length - 1; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var current = selectedParts[i];</span>
    // adds distance specified between parts
<span class="cstat-no" title="statement not covered" >    var curRightSideLoc = current.actualBounds.x + current.actualBounds.width + distance;</span>
<span class="cstat-no" title="statement not covered" >    var next = selectedParts[i + 1];</span>
<span class="cstat-no" title="statement not covered" >    next.move(new go.Point(curRightSideLoc, current.actualBounds.y));</span>
  }
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("align Row");</span>
};
&nbsp;
&nbsp;
/**
* This controls whether or not the user can invoke the {@link #rotate} command.
* @this {DrawCommandHandler}
* @param {number=} angle the positive (clockwise) or negative (counter-clockwise) change in the rotation angle of each Part, in degrees.
* @return {boolean}
* This returns true:
* if the diagram is not {@link Diagram#isReadOnly},
* if the model is not {@link Model#isReadOnly}, and
* if there is at least one selected {@link Part}.
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.canRotate = <span class="fstat-no" title="function not covered" >function(number) {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  if (diagram === null || diagram.isReadOnly || diagram.isModelReadOnly) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  if (diagram.selection.count &lt; 1) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
&nbsp;
/**
* Change the angle of the parts connected with the given part. This is in the command handler
* so it can be easily accessed for the purpose of creating commands that change the rotation of a part. 
* @this {DrawCommandHandler}
* @param {number=} angle the positive (clockwise) or negative (counter-clockwise) change in the rotation angle of each Part, in degrees.
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.rotate = <span class="fstat-no" title="function not covered" >function(angle) {</span></span>
<span class="cstat-no" title="statement not covered" >  if (angle === undefined) <span class="cstat-no" title="statement not covered" >angle = 90;</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("rotate " + angle.toString());</span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(current) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (current instanceof go.Link || current instanceof go.Group) <span class="cstat-no" title="statement not covered" >return; </span></span>// skips over Links and Groups
<span class="cstat-no" title="statement not covered" >    current.angle += angle;</span>
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("rotate " + angle.toString());</span>
};
&nbsp;
&nbsp;
/**
* This implements custom behaviors for arrow key keyboard events.
* Set {@link #arrowKeyBehavior} to "select", "move" (the default), "scroll" (the standard behavior), or "none"
* to affect the behavior when the user types an arrow key.
* @this {DrawCommandHandler}*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.doKeyDown = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  if (diagram === null) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var e = diagram.lastInput;</span>
&nbsp;
  // determines the function of the arrow keys
<span class="cstat-no" title="statement not covered" >  if (e.key === "Up" || e.key === "Down" || e.key === "Left" || e.key === "Right") {</span>
<span class="cstat-no" title="statement not covered" >    var behavior = this.arrowKeyBehavior;</span>
<span class="cstat-no" title="statement not covered" >    if (behavior === "none") {</span>
      // no-op
<span class="cstat-no" title="statement not covered" >      return;</span>
    } else <span class="cstat-no" title="statement not covered" >if (behavior === "select") {</span>
<span class="cstat-no" title="statement not covered" >      this._arrowKeySelect();</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    } else <span class="cstat-no" title="statement not covered" >if (behavior === "move") {</span>
<span class="cstat-no" title="statement not covered" >      this._arrowKeyMove();</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
    // otherwise drop through to get the default scrolling behavior
  }
&nbsp;
  // otherwise still does all standard commands
<span class="cstat-no" title="statement not covered" >  go.CommandHandler.prototype.doKeyDown.call(this);</span>
};
&nbsp;
/**
* Collects in an Array all of the non-Link Parts currently in the Diagram.
* @this {DrawCommandHandler}
* @return {Array}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype._getAllParts = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var allParts = new Array();</span>
<span class="cstat-no" title="statement not covered" >  this.diagram.nodes.each(<span class="fstat-no" title="function not covered" >function(node) {</span> <span class="cstat-no" title="statement not covered" >allParts.push(node); </span>});</span>
<span class="cstat-no" title="statement not covered" >  this.diagram.parts.each(<span class="fstat-no" title="function not covered" >function(part) {</span> <span class="cstat-no" title="statement not covered" >allParts.push(part); </span>});</span>
  // note that this ignores Links
<span class="cstat-no" title="statement not covered" >  return allParts;</span>
};
&nbsp;
/**
* To be called when arrow keys should move the Diagram.selection.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype._arrowKeyMove = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  var e = diagram.lastInput;</span>
  // moves all selected parts in the specified direction
<span class="cstat-no" title="statement not covered" >  var vdistance = 0;</span>
<span class="cstat-no" title="statement not covered" >  var hdistance = 0;</span>
  // if control is being held down, move pixel by pixel. Else, moves by grid cell size    
<span class="cstat-no" title="statement not covered" >  if (e.control || e.meta) {</span>
<span class="cstat-no" title="statement not covered" >    vdistance = 1;</span>
<span class="cstat-no" title="statement not covered" >    hdistance = 1;</span>
  } else <span class="cstat-no" title="statement not covered" >if (diagram.grid !== null) {</span>
<span class="cstat-no" title="statement not covered" >    var cellsize = diagram.grid.gridCellSize;</span>
<span class="cstat-no" title="statement not covered" >    hdistance = cellsize.width;</span>
<span class="cstat-no" title="statement not covered" >    vdistance = cellsize.height;</span>
  }
<span class="cstat-no" title="statement not covered" >  diagram.startTransaction("arrowKeyMove");</span>
<span class="cstat-no" title="statement not covered" >  diagram.selection.each(<span class="fstat-no" title="function not covered" >function(part) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (e.key === "Up") {</span>
<span class="cstat-no" title="statement not covered" >      part.move(new go.Point(part.actualBounds.x, part.actualBounds.y - vdistance));</span>
    } else <span class="cstat-no" title="statement not covered" >if (e.key === "Down") {</span>
<span class="cstat-no" title="statement not covered" >      part.move(new go.Point(part.actualBounds.x, part.actualBounds.y + vdistance));</span>
    } else <span class="cstat-no" title="statement not covered" >if (e.key === "Left") {</span>
<span class="cstat-no" title="statement not covered" >      part.move(new go.Point(part.actualBounds.x - hdistance, part.actualBounds.y));</span>
    } else <span class="cstat-no" title="statement not covered" >if (e.key === "Right") {</span>
<span class="cstat-no" title="statement not covered" >      part.move(new go.Point(part.actualBounds.x + hdistance, part.actualBounds.y));</span>
    }
  });
<span class="cstat-no" title="statement not covered" >  diagram.commitTransaction("arrowKeyMove");</span>
};
&nbsp;
/**
* To be called when arrow keys should change selection.
* @this {DrawCommandHandler}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype._arrowKeySelect = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var diagram = this.diagram;</span>
<span class="cstat-no" title="statement not covered" >  var e = diagram.lastInput;</span>
  // with a part selected, arrow keys change the selection
  // arrow keys + shift selects the additional part in the specified direction
  // arrow keys + control toggles the selection of the additional part
<span class="cstat-no" title="statement not covered" >  var nextPart = null;</span>
<span class="cstat-no" title="statement not covered" >  if (e.key === "Up") {</span>
<span class="cstat-no" title="statement not covered" >    nextPart = this._findNearestPartTowards(270);</span>
  } else <span class="cstat-no" title="statement not covered" >if (e.key === "Down") {</span>
<span class="cstat-no" title="statement not covered" >    nextPart = this._findNearestPartTowards(90);</span>
  } else <span class="cstat-no" title="statement not covered" >if (e.key === "Left") {</span>
<span class="cstat-no" title="statement not covered" >    nextPart = this._findNearestPartTowards(180);</span>
  } else <span class="cstat-no" title="statement not covered" >if (e.key === "Right") {</span>
<span class="cstat-no" title="statement not covered" >    nextPart = this._findNearestPartTowards(0);</span>
  }
<span class="cstat-no" title="statement not covered" >  if (nextPart !== null) {</span>
<span class="cstat-no" title="statement not covered" >    if (e.shift) {</span>
<span class="cstat-no" title="statement not covered" >      nextPart.isSelected = true;</span>
    } else <span class="cstat-no" title="statement not covered" >if (e.control || e.meta) {</span>
<span class="cstat-no" title="statement not covered" >      nextPart.isSelected = !nextPart.isSelected;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      diagram.select(nextPart);</span>
    }
  }
};
&nbsp;
/**
* Finds the nearest Part in the specified direction, based on their center points.
* if it doesn't find anything, it just returns the current Part.
* @this {DrawCommandHandler}
* @param {number} dir the direction, in degrees
* @return {Part} the closest Part found in the given direction
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype._findNearestPartTowards = <span class="fstat-no" title="function not covered" >function(dir) {</span></span>
<span class="cstat-no" title="statement not covered" >  var originalPart = this.diagram.selection.first();</span>
<span class="cstat-no" title="statement not covered" >  if (originalPart === null) <span class="cstat-no" title="statement not covered" >return null;</span></span>
<span class="cstat-no" title="statement not covered" >  var originalPoint = originalPart.actualBounds.center;</span>
<span class="cstat-no" title="statement not covered" >  var allParts = this._getAllParts();</span>
<span class="cstat-no" title="statement not covered" >  var closestDistance = Infinity;</span>
<span class="cstat-no" title="statement not covered" >  var closest = originalPart; </span> // if no parts meet the criteria, the same part remains selected
&nbsp;
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; allParts.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var nextPart = allParts[i];</span>
<span class="cstat-no" title="statement not covered" >    if (nextPart === originalPart) <span class="cstat-no" title="statement not covered" >continue; </span></span> // skips over currently selected part
<span class="cstat-no" title="statement not covered" >    var nextPoint = nextPart.actualBounds.center;</span>
<span class="cstat-no" title="statement not covered" >    var angle = originalPoint.directionPoint(nextPoint);</span>
<span class="cstat-no" title="statement not covered" >    var anglediff = this._angleCloseness(angle, dir);</span>
<span class="cstat-no" title="statement not covered" >    if (anglediff &lt;= 45) {  // if this part's center is within the desired direction's sector,</span>
<span class="cstat-no" title="statement not covered" >      var distance = originalPoint.distanceSquaredPoint(nextPoint);</span>
<span class="cstat-no" title="statement not covered" >      distance *= 1+Math.sin(anglediff*Math.PI/180); </span> // the more different from the intended angle, the further it is
<span class="cstat-no" title="statement not covered" >      if (distance &lt; closestDistance) {  // and if it's closer than any other part,</span>
<span class="cstat-no" title="statement not covered" >        closestDistance = distance; </span>     // remember it as a better choice
<span class="cstat-no" title="statement not covered" >        closest = nextPart;</span>
      }
    }
  }
<span class="cstat-no" title="statement not covered" >  return closest;</span>
};
&nbsp;
/**
* @this {DrawCommandHandler}
* @param {number} a
* @param {number} dir
* @return {number}
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype._angleCloseness = <span class="fstat-no" title="function not covered" >function(a, dir) {</span></span>
<span class="cstat-no" title="statement not covered" >  return Math.min(Math.abs(dir - a), Math.min(Math.abs(dir + 360 - a), Math.abs(dir - 360 - a)));</span>
};
&nbsp;
/**
* Reset the last offset for pasting.
* @override
* @this {DrawCommandHandler}
* @param {Iterable.&lt;Part&gt;} coll a collection of {@link Part}s.
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.copyToClipboard = <span class="fstat-no" title="function not covered" >function(coll) {</span></span>
<span class="cstat-no" title="statement not covered" >  go.CommandHandler.prototype.copyToClipboard.call(this, coll);</span>
<span class="cstat-no" title="statement not covered" >  this._lastPasteOffset.set(this.pasteOffset);</span>
};
&nbsp;
/**
* Paste from the clipboard with an offset incremented on each paste, and reset when copied.
* @override
* @this {DrawCommandHandler}
* @return {Set.&lt;Part&gt;} a collection of newly pasted {@link Part}s
*/
<span class="cstat-no" title="statement not covered" >DrawCommandHandler.prototype.pasteFromClipboard = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  var coll = go.CommandHandler.prototype.pasteFromClipboard.call(this);</span>
<span class="cstat-no" title="statement not covered" >  this.diagram.moveParts(coll, this._lastPasteOffset);</span>
<span class="cstat-no" title="statement not covered" >  this._lastPasteOffset.add(this.pasteOffset);</span>
<span class="cstat-no" title="statement not covered" >  return coll;</span>
};
&nbsp;
/**
* Gets or sets the arrow key behavior. Possible values are "move", "select", and "scroll".  
* The default value is "move".
* @name DrawCommandHandler#arrowKeyBehavior
* @function.
* @return {string}
*/
<span class="cstat-no" title="statement not covered" >Object.defineProperty(DrawCommandHandler.prototype, "arrowKeyBehavior", {</span>
  get: <span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >return this._arrowKeyBehavior; </span>},
  set: <span class="fstat-no" title="function not covered" >function(val) {</span>
<span class="cstat-no" title="statement not covered" >    if (val !== "move" &amp;&amp; val !== "select" &amp;&amp; val !== "scroll" &amp;&amp; val !== "none") {</span>
<span class="cstat-no" title="statement not covered" >      throw new Error("DrawCommandHandler.arrowKeyBehavior must be either \"move\", \"select\", \"scroll\", or \"none\", not: " + val);</span>
    }
<span class="cstat-no" title="statement not covered" >    this._arrowKeyBehavior = val;</span>
  }
});
&nbsp;
/**
* Gets or sets the offset at which each repeated pasteSelection() puts the new copied parts from the clipboard.
* @name DrawCommandHandler#pasteOffset
* @function.
* @return {Point}
*/
<span class="cstat-no" title="statement not covered" >Object.defineProperty(DrawCommandHandler.prototype, "pasteOffset", {</span>
  get: <span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >return this._pasteOffset; </span>},
  set: <span class="fstat-no" title="function not covered" >function(val) {</span>
<span class="cstat-no" title="statement not covered" >    if (!(val instanceof go.Point)) <span class="cstat-no" title="statement not covered" >throw new Error("DrawCommandHandler.pasteOffset must be a Point, not: " + val);</span></span>
<span class="cstat-no" title="statement not covered" >    this._pasteOffset.set(val);</span>
  }
});
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Fri Apr 21 2017 14:10:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>
